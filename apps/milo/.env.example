# Meeboter Milo - Environment Configuration
# Copy this file to .env and fill in the values
#
# NOTE: Do NOT set NODE_ENV in this file. Next.js manages it automatically:
# - `next dev` sets NODE_ENV=development
# - `next build` sets NODE_ENV=production

# Database
DATABASE_URL="postgresql://username:password@localhost:5432/meeboter"
DATABASE_SSL="false"

# Authentication (Better Auth)
AUTH_SECRET="your-auth-secret-32-chars-minimum!"
AUTH_GITHUB_ID="your-github-oauth-app-id"
AUTH_GITHUB_SECRET="your-github-oauth-app-secret"

# Application
NEXT_PUBLIC_APP_ORIGIN_URL="http://localhost:3000"
MILO_AUTH_TOKEN="your-milo-auth-token"
GHCR_ORG="Payme-Works"

# Storage (S3-Compatible)
S3_ENDPOINT="http://localhost:9000"
S3_ACCESS_KEY="your-s3-access-key"
S3_SECRET_KEY="your-s3-secret-key"
S3_BUCKET_NAME="meeboter-recordings"
S3_REGION="us-east-1"

# Platform Selection
# Comma-separated list of platforms in priority order (fallback chain)
# Options: k8s, aws, coolify, local
PLATFORM_PRIORITY="local"
GLOBAL_QUEUE_TIMEOUT_MS="600000"
DEPLOYMENT_QUEUE_MAX_CONCURRENT="4"

# Coolify Platform (required when coolify in PLATFORM_PRIORITY)
COOLIFY_API_URL="https://coolify.example.com/api/v1"
COOLIFY_API_TOKEN="your-coolify-api-token"
COOLIFY_PROJECT_UUID="your-project-uuid"
COOLIFY_SERVER_UUID="your-server-uuid"
COOLIFY_ENVIRONMENT_NAME="production"
COOLIFY_DESTINATION_UUID="your-destination-uuid"
COOLIFY_BOT_LIMIT="20"
COOLIFY_QUEUE_TIMEOUT_MS="300000"

# AWS ECS Platform (required when aws in PLATFORM_PRIORITY)
AWS_REGION="us-east-2"
AWS_ECS_CLUSTER="meeboter-bots"
AWS_ECS_SUBNETS="subnet-xxx,subnet-yyy"
AWS_ECS_SECURITY_GROUPS="sg-xxx"
AWS_ECS_TASK_DEF_GOOGLE_MEET="meeboter-google-meet-bot"
AWS_ECS_TASK_DEF_MICROSOFT_TEAMS="meeboter-microsoft-teams-bot"
AWS_ECS_TASK_DEF_ZOOM="meeboter-zoom-bot"
AWS_ECS_ASSIGN_PUBLIC_IP="true"
AWS_BOT_LIMIT="50"
AWS_QUEUE_TIMEOUT_MS="30000"

# Kubernetes Platform (required when k8s in PLATFORM_PRIORITY)
K8S_NAMESPACE="meeboter"
# K8S_KUBECONFIG="/path/to/kubeconfig"
# K8S_IMAGE_REGISTRY="ghcr.io/Payme-Works"
K8S_IMAGE_TAG="latest"
K8S_BOT_CPU_REQUEST="150m"
K8S_BOT_CPU_LIMIT="500m"
K8S_BOT_MEMORY_REQUEST="512Mi"
K8S_BOT_MEMORY_LIMIT="1Gi"
K8S_IMAGE_PULL_LOCK_ENABLED="true"
K8S_BOT_LIMIT="80"
K8S_QUEUE_TIMEOUT_MS="60000"
