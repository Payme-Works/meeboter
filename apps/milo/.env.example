# Meeboter Milo - Environment Configuration
# Copy this file to .env and fill in the values
#
# NOTE: Do NOT set NODE_ENV in this file. Next.js manages it automatically:
# - `next dev` sets NODE_ENV=development
# - `next build` sets NODE_ENV=production

# ─────────────────────────────────────────────────────────────────────────────
# Database
# ─────────────────────────────────────────────────────────────────────────────

DATABASE_URL="postgresql://username:password@localhost:5432/meeboter"
DATABASE_SSL="false"

# ─────────────────────────────────────────────────────────────────────────────
# Authentication (Better Auth)
# ─────────────────────────────────────────────────────────────────────────────

AUTH_SECRET="your-auth-secret-32-chars-minimum!"
AUTH_GITHUB_ID="your-github-oauth-app-id"
AUTH_GITHUB_SECRET="your-github-oauth-app-secret"

# ─────────────────────────────────────────────────────────────────────────────
# Application URL
# ─────────────────────────────────────────────────────────────────────────────

NEXT_PUBLIC_APP_ORIGIN_URL="http://localhost:3000"

# ─────────────────────────────────────────────────────────────────────────────
# Platform Selection
# ─────────────────────────────────────────────────────────────────────────────
# Options: "coolify" | "aws" | "k8s" | "local" (default)
# - coolify: Use Coolify pool-based deployment
# - aws: Use AWS ECS task-based deployment
# - k8s: Use Kubernetes Jobs deployment
# - local: Development mode (logs deployment instead of running containers)

NEXT_PUBLIC_DEPLOYMENT_PLATFORM="local"

# ─────────────────────────────────────────────────────────────────────────────
# Coolify Configuration (required when NEXT_PUBLIC_DEPLOYMENT_PLATFORM=coolify)
# ─────────────────────────────────────────────────────────────────────────────

COOLIFY_API_URL="https://coolify.example.com/api/v1"
COOLIFY_API_TOKEN="your-coolify-api-token"
COOLIFY_PROJECT_UUID="your-project-uuid"
COOLIFY_SERVER_UUID="your-server-uuid"
COOLIFY_ENVIRONMENT_NAME="production"
COOLIFY_DESTINATION_UUID="your-destination-uuid"

# ─────────────────────────────────────────────────────────────────────────────
# AWS Configuration (required when NEXT_PUBLIC_DEPLOYMENT_PLATFORM=aws)
# ─────────────────────────────────────────────────────────────────────────────

AWS_REGION="us-east-1"
ECS_CLUSTER="meeboter-cluster"
ECS_SUBNETS="subnet-xxx,subnet-yyy"
ECS_SECURITY_GROUPS="sg-xxx"
ECS_TASK_DEF_ZOOM="meeboter-zoom-bot:1"
ECS_TASK_DEF_MICROSOFT_TEAMS="meeboter-microsoft-teams-bot:1"
ECS_TASK_DEF_GOOGLE_MEET="meeboter-google-meet-bot:1"
ECS_ASSIGN_PUBLIC_IP="true"

# ─────────────────────────────────────────────────────────────────────────────
# Kubernetes Configuration (required when NEXT_PUBLIC_DEPLOYMENT_PLATFORM=k8s)
# ─────────────────────────────────────────────────────────────────────────────
# The K3s cluster is shared across projects. Each project has its own namespace
# with its own ResourceQuota for isolation.

# Namespace where meeboter bot Jobs are created
K8S_NAMESPACE="meeboter"

# Path to kubeconfig file (optional if running in-cluster or using default)
# K8S_KUBECONFIG="/path/to/kubeconfig"

# Image registry for bot containers (defaults to GHCR_ORG if not set)
# K8S_IMAGE_REGISTRY="ghcr.io/your-org"

# Image tag to use for bot containers
K8S_IMAGE_TAG="latest"

# Bot resource limits
K8S_BOT_CPU_REQUEST="250m"
K8S_BOT_CPU_LIMIT="500m"
K8S_BOT_MEMORY_REQUEST="768Mi"
K8S_BOT_MEMORY_LIMIT="1Gi"

# ─────────────────────────────────────────────────────────────────────────────
# Bot Images (GitHub Container Registry)
# ─────────────────────────────────────────────────────────────────────────────

GHCR_ORG="your-github-org"
MILO_AUTH_TOKEN="your-milo-auth-token"

# ─────────────────────────────────────────────────────────────────────────────
# S3-Compatible Storage (MinIO or AWS S3)
# ─────────────────────────────────────────────────────────────────────────────

S3_ENDPOINT="http://localhost:9000"
S3_ACCESS_KEY="your-s3-access-key"
S3_SECRET_KEY="your-s3-secret-key"
S3_BUCKET_NAME="meeboter-recordings"
S3_REGION="us-east-1"
